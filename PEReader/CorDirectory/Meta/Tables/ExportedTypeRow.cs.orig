using System;
using System.Reflection;

namespace AlphaOmega.Debug.CorDirectory.Meta.Tables
{
	/// <summary>
	/// Exported type descriptors that contain information about public classes exported by the current assembly, whitch are declared in other modules of the assembly.
	/// Only the prime module of the assembly sould carry this table.
	/// </summary>
	public class ExportedTypeRow : BaseMetaRow
	{
		/// <summary>Specifies type attributes.</summary>
		public TypeAttributes Flags { get { return (TypeAttributes)base.GetValue<UInt32>(0); } }
<<<<<<< HEAD

=======
>>>>>>> a19aeac02d80c25d8fd68cb439b59fc58b285e90
		/// <summary>
		/// A 4-byte index into a TypeDef table of another module in this Assembly).
		/// This column is used as a hint only.
		/// If the entry in the target TypeDef table matches the TypeName and TypeNamespace entries in this table, resolution has succeeded.
		/// But if there is a mismatch, the CLI shall fall back to a search of the target TypeDef table.
		/// Ignored and should be zero if Flags has IsTypeForwarder set.
		/// </summary>
		public UInt32 TypeDefId { get { return base.GetValue<UInt32>(1); } }
<<<<<<< HEAD

		/// <summary>Type name</summary>
		public String TypeName { get { return base.GetValue<String>(2); } }

		/// <summary>Type namespace</summary>
		public String TypeNamespace { get { return base.GetValue<String>(3); } }

=======
		/// <summary>Type name</summary>
		public String TypeName { get { return base.GetValue<String>(2); } }
		/// <summary>Type namespace</summary>
		public String TypeNamespace { get { return base.GetValue<String>(3); } }
>>>>>>> a19aeac02d80c25d8fd68cb439b59fc58b285e90
		/// <summary>
		/// This is an index (more precisely, an Implementation (§II.24.2.6) coded index) into either of the following tables:
		///		File table, where that entry says which module in the current assembly holds the TypeDef
		///		ExportedType table, where that entry is the enclosing Type of the current nested Type.
		///		AssemblyRef table, where that entry says in which assembly the type may now be found (Flags must have the IsTypeForwarder flag set).
		/// </summary>
		public MetaCellCodedToken Implementation { get { return base.GetValue<MetaCellCodedToken>(4); } }

		/// <summary>TypeNamespace+"."+TypeName</summary>
		/// <returns>String</returns>
		public override String ToString()
		{
<<<<<<< HEAD
			String result = String.IsNullOrEmpty(this.TypeNamespace)
				? this.TypeName
				: this.TypeNamespace + "." + this.TypeName;
=======
			String result;
			if(String.IsNullOrEmpty(this.TypeNamespace))
				result = this.TypeName;
			else
				result = this.TypeNamespace + "." + this.TypeName;
>>>>>>> a19aeac02d80c25d8fd68cb439b59fc58b285e90

			return base.ToString(result);
		}
	}
}